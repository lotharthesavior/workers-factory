(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1410:function(e,t,n){},1411:function(e,t,n){"use strict";n.r(t);var r,o,i,a,c=n(4),u=n.n(c),s=n(162),l=n.n(s),d=n(68),h=n(97),f=n(99),p=n(98),g=n(100),m=n(121),b=n.n(m),k=n(163),v=n(517),w=function e(t,n){Object(d.a)(this,e),this.speed=t,this.timer=n},y=localStorage.getItem("state"),O=null!==y?JSON.parse(y):{count:0,workers:[]},j=Object(k.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;switch((arguments.length>1?arguments[1]:void 0).type){case"ADD_PRODUCT":return Object(v.a)({},e,{count:e.count+1});case"ADD_WORKER":return e.workers.push(new w(.5,null)),e;default:return e}}),D=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"create",value:function(){var e=this;j.subscribe(function(){var e=j.getState(),t={count:e.count,workers:e.workers.map(function(e){return{speed:e.speed,timer:null}})},n=JSON.stringify(t);localStorage.setItem("state",n)}),(r=this.add.text(0,0,"Add Product",{backgroundColor:"white",color:"black",fontSize:48})).setInteractive({useHandCursor:!0}),r.on("pointerup",function(){j.dispatch({type:"ADD_PRODUCT"})}),(o=this.add.text(0,50,"Add Worker",{backgroundColor:"white",color:"black",fontSize:48})).setInteractive({useHandCursor:!0}),o.on("pointerup",function(){j.dispatch({type:"ADD_WORKER"})}),j.subscribe(function(){return e.giveTimerToWorkers()}),this.giveTimerToWorkers(),i=this.add.graphics({x:202,y:120}),a=this.add.text(0,120,"")}},{key:"giveTimerToWorkers",value:function(){var e=this;j.getState().workers.filter(function(e){return null===e.timer}).forEach(function(t){return e.registerWorkersTimers(t,e)})}},{key:"registerWorkersTimers",value:function(e,t){e.timer=t.time.addEvent({delay:2e3,loop:!0,callback:function(){j.dispatch({type:"ADD_PRODUCT"})}})}},{key:"update",value:function(e){var t=j.getState().workers;r.setText("Add Product: "+Math.round(j.getState().count)),o.setText("Add Worker: "+t.length),i.clear();for(var n=[],c=t.filter(function(e){return null!==e.timer}),u=0;u<c.length;u++)n.push("Worker "+(u+1)+": "+c[u].timer.getProgress().toString().substr(0,4)),i.fillStyle("white",1),i.fillRect(0,17.5*u,500*c[u].timer.getProgress(),8);a.setText(n)}}]),t}(m.Scene),T=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e={type:b.a.AUTO,width:800,height:640,parent:"phaser-game",backgroundColor:"#2d2d2d",scene:[D]};new b.a.Game(e)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return c.createElement("div",{id:"phaser-game",style:{backgroundColor:"#fff"}})}}]),t}(c.Component),C=n(516),S=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return u.a.createElement(C.a,{store:j},u.a.createElement("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",flexDirection:"row",height:"100vh"}},u.a.createElement(T,null)))}}]),t}(c.Component);n(1410),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(u.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},518:function(e,t,n){e.exports=n(1411)}},[[518,1,2]]]);
//# sourceMappingURL=main.c0293dce.chunk.js.map